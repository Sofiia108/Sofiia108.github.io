(this["webpackJsonphomework-22"]=this["webpackJsonphomework-22"]||[]).push([[0],{34:function(e,s,t){},35:function(e,s,t){},60:function(e,s,t){},61:function(e,s,t){},62:function(e,s,t){},63:function(e,s,t){"use strict";t.r(s);var a=t(1),r=t.n(a),c=t(28),n=t.n(c),o=(t(34),t(9)),l=(t(35),t(2)),i=t(0);var d=Object(l.f)((function(e){var s,t="string"!==typeof(s=e.location.pathname.substring(1,e.location.pathname.length))?"":s.charAt(0).toUpperCase()+s.slice(1);return Object(i.jsx)("nav",{className:"navbar navbar-dark bg-primary",children:Object(i.jsx)("div",{className:"row col-12 d-flex justify-content-center text-white",children:Object(i.jsx)("span",{className:"h3",children:e.title||t})})})})),j=t(11),m=t(8),u=t(14),h=t.n(u),b=(t(60),"http://localhost:3 000/api/");var p=Object(l.f)((function(e){var s=Object(a.useState)({email:"",password:"",successMessage:null}),t=Object(o.a)(s,2),r=t[0],c=t[1],n=function(e){var s=e.target,t=s.id,a=s.value;c((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,a))}))},l=function(){e.updateTitle("Home"),e.history.push("/home")};return Object(i.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(i.jsxs)("form",{children:[Object(i.jsxs)("div",{className:"form-group text-left",children:[Object(i.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(i.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:r.email,onChange:n})]}),Object(i.jsxs)("div",{className:"form-group text-left",children:[Object(i.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(i.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:n})]}),Object(i.jsx)("div",{className:"form-check"}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(s){s.preventDefault();var t={email:r.email,password:r.password};h.a.post(b+"login",t).then((function(s){200===s.data.code?(c((function(e){return Object(m.a)(Object(m.a)({},e),{},{successMessage:"Login successful. Redirecting to home page.."})})),l(),e.showError(null)):204===s.data.code?e.showError("Username and password do not match"):e.showError("Username does not exists")})).catch((function(e){console.log(e)}))},children:"Submit"})]}),Object(i.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage}),Object(i.jsxs)("div",{className:"registerMessage",children:[Object(i.jsx)("span",{children:"Dont have an account? "}),Object(i.jsx)("span",{className:"loginText",onClick:function(){return e.history.push("/register"),void e.updateTitle("Register")},children:"Register"})]})]})}));t(61);var f=Object(l.f)((function(e){var s=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",successMessage:null}),t=Object(o.a)(s,2),r=t[0],c=t[1],n=function(e){var s=e.target,t=s.id,a=s.value;c((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,a))}))},l=function(){e.updateTitle("Home"),e.history.push("/home")};return Object(i.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(i.jsxs)("div",{className:"form-group text-left",children:[Object(i.jsx)("label",{children:"First Name"}),Object(i.jsx)("input",{type:"firstName",className:"form-control",id:"firstName",placeholder:"Enter First Name",value:r.firstName,onChange:n}),Object(i.jsx)("label",{children:"Last Name"}),Object(i.jsx)("input",{type:"lastName",className:"form-control",id:"lastName",placeholder:"Enter Last Name",value:r.lastName,onChange:n})]}),Object(i.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(i.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:r.email,onChange:n}),Object(i.jsxs)("div",{className:"form-group text-left",children:[Object(i.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(i.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:n})]}),Object(i.jsxs)("div",{className:"form-group text-left",children:[Object(i.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Confirm Password"}),Object(i.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",value:r.confirmPassword,onChange:n})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(s){s.preventDefault(),r.password===r.confirmPassword?function(){if(r.firstName.length&&r.password.length){e.showError(null);var s={firstName:r.firstName,password:r.password};h.a.post(b+"register",s).then((function(s){200===s.data.code?(c((function(e){return Object(m.a)(Object(m.a)({},e),{},{successMessage:"Registration successful. Redirecting to home page.."})})),l(),e.showError(null)):e.showError("Some error occurred")})).catch((function(e){console.log(e)}))}else e.showError("Please enter valid username and password")}():e.showError("Passwords do not match")},children:"Register"}),Object(i.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage}),Object(i.jsxs)("div",{className:"mt-2",children:[Object(i.jsx)("span",{children:"Already have an account? "}),Object(i.jsx)("span",{className:"loginText",onClick:function(){return e.updateTitle("Login"),void e.history.push("/login")},children:"Login here"})]})]})}));var O=function(e){return Object(i.jsx)("div",{className:"mt-2",children:"Home page content"})},x=t(12);t(62);var g=function(e){var s=Object(a.useState)("none"),t=Object(o.a)(s,2),r=t[0],c=t[1],n=function(){c("none"),e.hideError(null)};return Object(a.useEffect)((function(){null!==e.errorMessage?c("block"):n()})),Object(i.jsx)("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:r},children:Object(i.jsxs)("div",{className:"d-flex alertMessage",children:[Object(i.jsx)("span",{children:e.errorMessage}),Object(i.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return n()},children:Object(i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var v=function(){var e=Object(a.useState)(null),s=Object(o.a)(e,2),t=s[0],r=s[1],c=Object(a.useState)(null),n=Object(o.a)(c,2),j=n[0],m=n[1];return Object(i.jsx)(x.a,{children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(d,{title:t}),Object(i.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{path:"/",exact:!0,children:Object(i.jsx)(f,{showError:m,updateTitle:r})}),Object(i.jsx)(l.a,{path:"/register",children:Object(i.jsx)(f,{showError:m,updateTitle:r})}),Object(i.jsx)(l.a,{path:"/login",children:Object(i.jsx)(p,{showError:m,updateTitle:r})}),Object(i.jsx)(l.a,{path:"/home",children:Object(i.jsx)(O,{})})]}),Object(i.jsx)(g,{errorMessage:j,hideError:m})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(v,{baseName:"/homework-22/build"})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.4c1136d6.chunk.js.map